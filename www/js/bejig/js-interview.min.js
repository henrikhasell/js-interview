/* js-interview 
*/var Game=function(){function a(){this.createRenderer(),this.createLoader()}return a.prototype.createRenderer=function(){this.renderer=AbstractRenderer.getInstance().initialise(new PIXI.Point(300,350))},a.prototype.createLoader=function(){this.loader=new Loader("xml/Config.xml"),this.loader.addEventListener(EventType.COMPLETE,this.handleLoadComplete,this),this.loader.load()},a.prototype.createModel=function(){this.model=new GameModel(this.loader.getConfig())},a.prototype.createController=function(){this.controller=new GameController(this.model)},a.prototype.createView=function(){this.view=new GameView(this.model),this.renderer.addChild(this.view)},a.prototype.handleLoadComplete=function(){this.createModel(),this.createController(),this.createView()},a}(),GameController=function(){function a(a){this.model=a,this.create(),this.addEventListeners()}return a.prototype.create=function(){this.createEventBus()},a.prototype.createEventBus=function(){this.eventBus=EventBus.getInstance()},a.prototype.addEventListeners=function(){this.listen(EnemyShipEvent.DEAD,this.handleEnemyShipDead,this),this.listen(PlayerShipEvent.DEAD,this.handlePlayerShipDead,this),this.listen(GameOverEvent.WIN,this.handleGameWin,this),this.listen(GameOverEvent.LOSE,this.handleGameOver,this),this.listen(GameOverEvent.NEW,this.handleNewGame,this)},a.prototype.handleEnemyShipDead=function(a){this.model.enemyShipDead(),this.model.updateScore(),this.dispatchEvent(new PlayerScoreUpdatedEvent),0==this.model.getEnemiesLeft()&&this.dispatchEvent(new GameOverEvent(GameOverEvent.WIN))},a.prototype.handlePlayerShipDead=function(a){this.model.playerShipDead(),this.model.getNumLives()>0?(this.dispatchEvent(new PlayerLivesUpdatedEvent),this.dispatchEvent(new PlayerShipEvent(PlayerShipEvent.REVIVE))):this.dispatchEvent(new GameOverEvent(GameOverEvent.LOSE))},a.prototype.handleGameWin=function(a){this.model.nextLevel(),this.dispatchEvent(new PlayerLivesUpdatedEvent),this.dispatchEvent(new GameViewEvent(GameViewEvent.LEVEL))},a.prototype.handleGameOver=function(a){this.model.highScoreUpdate(),this.dispatchEvent(new GameViewEvent(GameViewEvent.OVER))},a.prototype.handleNewGame=function(a){this.model.reset(),setTimeout(this.dispatchEvent(new GameViewEvent(GameViewEvent.START)),1e3)},a.prototype.listen=function(a,b,c){this.eventBus.addEventListener(a,b,c)},a.prototype.remove=function(a,b){this.eventBus.removeEventListener(a,b)},a.prototype.dispatchEvent=function(a){this.eventBus.dispatchEvent(a)},a}(),__extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},GameOverEvent=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.WIN="GameOverEvent.WIN",b.LOSE="GameOverEvent.LOSE",b.NEW="GameOverEvent.NEW",b}(EventObject),PlayerLivesUpdatedEvent=function(a){function b(){a.call(this,b.UPDATED)}return __extends(b,a),b.UPDATED="PlayerLivesUpdatedEvent.UPDATED",b}(EventObject),PlayerScoreUpdatedEvent=function(a){function b(){a.call(this,b.UPDATED)}return __extends(b,a),b.UPDATED="PlayerScoreUpdatedEvent.UPDATED",b}(EventObject),GameModel=function(a){function b(b){a.call(this),this.config=b,this.reset(),this.highScores=[0,0,0]}return __extends(b,a),b.prototype.reset=function(){this.numEnemies=this.config.getNumEnemies(),this.numLives=this.config.getNumLives(),this.numShields=this.config.getNumShields(),this.enemiesLeft=this.config.getNumEnemies(),this.enemySpeed=this.config.getEnemySpeed(),this.score=0,this.lastEnemyDeadTime=0,this.level=1,this.enemySpeed=this.config.getEnemySpeed()},b.prototype.nextLevel=function(){this.level+=1,this.numEnemies+=1,this.enemiesLeft=this.numEnemies,this.enemySpeed+=2,this.numLives=this.config.getNumLives()},b.prototype.enemyShipDead=function(){this.enemiesLeft--},b.prototype.highScoreUpdate=function(){this.highScores.push(this.score),this.highScores=this.highScores.sort(function(a,b){return b-a})},b.prototype.playerShipDead=function(){this.numLives--},b.prototype.updateScore=function(){var a=Date.now()-this.lastEnemyDeadTime;this.lastEnemyDeadTime=Date.now(),a>1e3?this.score+=100:this.score+=1e3-a+100},b.prototype.getEnemiesLeft=function(){return this.enemiesLeft},b.prototype.getScore=function(){return this.score},b.prototype.getNumLives=function(){return this.numLives},b.prototype.getNumEnemies=function(){return this.numEnemies},b.prototype.getNumShields=function(){return this.numShields},b.prototype.getEnemySpeed=function(){return this.enemySpeed},b.prototype.getLevel=function(){return this.level},b.prototype.getHighScores=function(){return this.highScores},b}(EventDispatcher),AbstractView=function(a){function b(){a.call(this),this.create(),this.addEventListeners()}return __extends(b,a),b.prototype.create=function(){this.createEventBus(),this.createRenderer()},b.prototype.createRenderer=function(){this.renderer=AbstractRenderer.getInstance()},b.prototype.createEventBus=function(){this.eventBus=EventBus.getInstance()},b.prototype.listen=function(a,b,c){this.eventBus.addEventListener(a,b,c)},b.prototype.remove=function(a,b){this.eventBus.removeEventListener(a,b)},b.prototype.dispatch=function(a){this.eventBus.dispatchEvent(a)},b.prototype.addEventListeners=function(){},b.prototype.removeEventListeners=function(){},b}(PIXI.Container),GameView=function(a){function b(b){this.model=b,this.highScoreList=[],a.call(this)}return __extends(b,a),b.prototype.create=function(){a.prototype.create.call(this),this.createBackground(),this.createPlayerShip(),this.createEnemyShips(),this.createShields(),this.createFields()},b.prototype.addEventListeners=function(){this.listen(PlayerLivesUpdatedEvent.UPDATED,this.handlePlayerLivesUpdate,this),this.listen(PlayerScoreUpdatedEvent.UPDATED,this.handlePlayerScoreUpdate,this),this.listen(GameViewEvent.LEVEL,this.nextLevel,this),this.listen(GameViewEvent.OVER,this.handleGameOver,this),this.listen(PlayerShipEvent.REVIVE,this.handlePlayerRevive,this),this.listen(GameViewEvent.START,this.handleNewGame,this)},b.prototype.createBackground=function(){this.background=GraphicsUtil.createRectangle(this.renderer.getGameSize()),this.addChild(this.background)},b.prototype.createPlayerShip=function(){this.playerShip=new PlayerShip,this.addChild(this.playerShip)},b.prototype.createEnemyShips=function(){this.enemyShips=[],this.enemySpeed=this.model.getEnemySpeed();for(var a,b=0;b<this.model.getNumEnemies();b++)a=new EnemyShip(this.enemySpeed),this.enemyShips.push(a),this.renderer.addChild(a)},b.prototype.removeEnemyShips=function(){for(var a=0,b=this.enemyShips;a<b.length;a++){var c=b[a];c.dispose()}},b.prototype.createShields=function(){var a=new PIXI.Point(17,this.renderer.getGameSize().y-this.renderer.getGameSize().y/5);this.shields=[];for(var b,c=0;c<this.model.getNumShields();c++)b=new Shield,b.position=a,a=new PIXI.Point(a.x+this.renderer.getGameSize().x/this.model.getNumShields(),a.y),this.addChild(b),this.shields.push(b)},b.prototype.removeShields=function(){for(var a=0,b=this.shields;a<b.length;a++){var c=b[a];this.removeChild(c)}},b.prototype.createFields=function(){this.createScoreLabel(),this.createScore(),this.createLivesLabel(),this.createLives(),this.createLevelLabel(),this.createLevel()},b.prototype.removeFields=function(){this.removeChild(this.livesLabel),this.removeChild(this.lives),this.removeChild(this.scoreLabel),this.removeChild(this.score),this.removeChild(this.levelLabel),this.removeChild(this.level)},b.prototype.createScoreLabel=function(){this.scoreLabel=new PIXI.extras.BitmapText("score",{font:Font.HELVETICA,align:"right"}),this.scoreLabel.position=new PIXI.Point(75,this.renderer.getGameSize().y-20),this.addChild(this.scoreLabel)},b.prototype.createScore=function(){this.score=new PIXI.extras.BitmapText(this.model.getScore().toString(),{font:Font.HELVETICA,align:"left"}),this.score.position=new PIXI.Point(115,this.renderer.getGameSize().y-20),this.addChild(this.score)},b.prototype.createLivesLabel=function(){this.livesLabel=new PIXI.extras.BitmapText("lives",{font:Font.HELVETICA,align:"right"}),this.livesLabel.position=new PIXI.Point(5,this.renderer.getGameSize().y-20),this.addChild(this.livesLabel)},b.prototype.createLives=function(){this.lives=new PIXI.extras.BitmapText(this.model.getNumLives().toString(),{font:Font.HELVETICA,align:"left"}),this.lives.position=new PIXI.Point(40,this.renderer.getGameSize().y-20),this.addChild(this.lives)},b.prototype.createLevel=function(){this.level=new PIXI.extras.BitmapText(this.model.getLevel().toString(),{font:Font.HELVETICA,align:"left"}),this.level.position=new PIXI.Point(260,this.renderer.getGameSize().y-20),this.addChild(this.level)},b.prototype.createLevelLabel=function(){this.levelLabel=new PIXI.extras.BitmapText("Level:",{font:Font.HELVETICA,align:"right"}),this.levelLabel.position=new PIXI.Point(210,this.renderer.getGameSize().y-20),this.addChild(this.levelLabel)},b.prototype.levelLabelUpdate=function(){this.level.text=this.model.getLevel().toString()},b.prototype.createGameOverLabel=function(){this.gameOverLabel=new PIXI.extras.BitmapText("GAME OVER",{font:Font.GAMEOVER,align:"center",tint:16711680}),this.gameOverLabel.position=new PIXI.Point(100,175),this.addChild(this.gameOverLabel)},b.prototype.createHighScoreLabel=function(){this.highScoreLabel=new PIXI.extras.BitmapText("1st:\n2nd:\n3rd:",{font:Font.HELVETICA,align:"left"}),this.highScoreLabel.position=new PIXI.Point(100,225),this.addChild(this.highScoreLabel)},b.prototype.createHighScores=function(){this.highScores=new PIXI.extras.BitmapText(this.highScoreList[0].toString()+"\n"+this.highScoreList[1].toString()+"\n"+this.highScoreList[2].toString(),{font:Font.HELVETICA,align:"right"}),this.highScores.position=new PIXI.Point(150,225),this.addChild(this.highScores)},b.prototype.createGameOverScreen=function(){this.highScoreList=this.model.getHighScores(),this.createGameOverLabel(),this.createHighScoreLabel(),this.createHighScores()},b.prototype.removeGameOver=function(){this.removeChild(this.gameOverLabel),this.removeChild(this.highScoreLabel),this.removeChild(this.highScores)},b.prototype.nextLevel=function(a){this.removeShields(),this.removeEnemyShips(),this.createEnemyShips(),this.createShields(),this.levelLabelUpdate()},b.prototype.handleGameOver=function(a){this.removeShields(),this.removeEnemyShips();var b=this.renderer.getStage();this.removeFields(),this.createGameOverScreen(),MouseUtil.addMouseDown(b,this.handleNewGameSelected,this)},b.prototype.handleNewGameSelected=function(){var a=this.renderer.getStage();MouseUtil.removeMouseDown(a,this.handleNewGameSelected),this.dispatch(new GameViewEvent(GameOverEvent.NEW))},b.prototype.handleNewGame=function(a){this.removeGameOver(),this.createPlayerShip(),this.createEnemyShips(),this.createShields(),this.createFields()},b.prototype.handlePlayerScoreUpdate=function(a){this.score.text=this.model.getScore().toString()},b.prototype.handlePlayerLivesUpdate=function(a){this.lives.text=this.model.getNumLives().toString()},b.prototype.handlePlayerRevive=function(a){this.playerShip.revive()},b}(AbstractView),Style=function(){function a(){}return a.addPath=function(b){a.map[b.id]=b},a.getPath=function(b){return a.map[b]},a.getSprite=function(a){var b=this.getPath(a);return PIXI.Sprite.fromImage(b.url)},a.getMovieClip=function(b){for(var c=this.getPath(b),d=[],e=0;e<c.frames;e++){var f=PIXI.Texture.fromFrame(c.id+a.formatTexture(e));d.push(f)}return new PIXI.extras.MovieClip(d)},a.formatTexture=function(a){for(var b=a.toString();b.length<4;)b="0"+b;return b},a.PLAYER_SHIP="PlayerShip",a.PLAYER_BULLET="PlayerBullet",a.ENEMY_SHIP="EnemyShip",a.ENEMY_BULLET="EnemyBullet",a.SHIELD="Shield",a.map=new Dictionary,a}(),Bullet=function(a){function b(b){a.call(this),this.sprite.position=b}return __extends(b,a),b.prototype.create=function(){a.prototype.create.call(this),this.createBullet(),this.addEventListeners()},b.prototype.dispose=function(){this.parent&&this.renderer.removeChild(this)},b.prototype.addEventListeners=function(){this.listen(GameOverEvent.WIN,this.dispose,this),this.listen(GameOverEvent.LOSE,this.dispose,this)},b.prototype.createBullet=function(){this.sprite=Style.getSprite(this.bulletStyle),this.addChild(this.sprite)},b.prototype.fire=function(){this.renderer.addChild(this),this.tween=TweenMax.to(this.sprite.position,1,{y:this.fireYPosition,ease:Linear.easeNone,onUpdate:ObjectUtil.delegate(this.handleTweenUpdate,this),onComplete:ObjectUtil.delegate(this.handleTweenComplete,this)})},b.prototype.handleTweenUpdate=function(){this.dispatch(this.event)},b.prototype.handleTweenComplete=function(){this.dispose()},b.prototype.getSprite=function(){return this.sprite},b}(AbstractView),EnemyBullet=function(a){function b(b){this.bulletStyle=Style.ENEMY_BULLET,this.event=new EnemyBulletEvent(this),a.call(this,b),this.fireYPosition=this.renderer.getGameSize().y}return __extends(b,a),b}(Bullet),EnemyShip=function(a){function b(b){this.enemySpeed=b,a.call(this)}return __extends(b,a),b.prototype.setFireSpeed=function(){this.fireSpeed=6e4/this.enemySpeed},b.prototype.setMoveSpeed=function(){this.moveSpeed=4e4/this.enemySpeed},b.prototype.create=function(){a.prototype.create.call(this),this.setFireSpeed(),this.setMoveSpeed(),this.createShip(),this.createStartPoint(this.randomPoint),this.createTweens(),this.startMoveTimer(),this.startFireTimer()},b.prototype.dispose=function(){this.parent&&this.parent.removeChild(this),this.moveTimer.removeEventListener(TimerEvent.TIMER,this),this.fireTimer.removeEventListener(TimerEvent.TIMER,this)},b.prototype.addEventListeners=function(){this.listen(PlayerBulletEvent.MOVE,this.handlePlayerBullet,this)},b.prototype.createShip=function(){this.ship=Style.getMovieClip(Style.ENEMY_SHIP),this.ship.play(),this.addChild(this.ship)},b.prototype.createStartPoint=function(a){this.ship.position.x=a.x},b.prototype.createTweens=function(){this.tweens=new Dictionary},b.prototype.startMoveTimer=function(){this.moveTimer=new Timer(this.moveSpeed),this.moveTimer.addEventListener(TimerEvent.TIMER,this.handleMoveTimerUpdate,this),this.moveTimer.start()},b.prototype.startFireTimer=function(){this.fireTimer=new Timer(this.fireSpeed),this.fireTimer.addEventListener(TimerEvent.TIMER,this.handleFireTimeUpdate,this),this.fireTimer.start()},b.prototype.handleMoveTimerUpdate=function(a){this.move(this.randomPoint)},b.prototype.handleFireTimeUpdate=function(a){new EnemyBullet(this.ship.position.clone()).fire()},b.prototype.handlePlayerBullet=function(a){var b=16,c=16;BoundsUtil.isInBounds(this.ship,a.getBullet().getSprite(),b,c)&&(this.remove(PlayerBulletEvent.MOVE,this),this.dispatch(new EnemyShipEvent),this.dispose())},b.prototype.move=function(a){this.tweens.setValue("x",TweenMax.to(this.ship.position,1,{x:a.x,ease:Linear.easeIn})),this.tweens.setValue("y",TweenMax.to(this.ship.position,1,{y:a.y,ease:Linear.easeIn}))},Object.defineProperty(b.prototype,"randomPoint",{get:function(){var a=Math.random()*(this.renderer.getGameSize().x-this.ship.width),b=Math.random()*(this.renderer.getGameSize().y-this.ship.height-150);return new PIXI.Point(a,b)},enumerable:!0,configurable:!0}),b}(AbstractView),PlayerBullet=function(a){function b(b){this.bulletStyle=Style.PLAYER_BULLET,a.call(this,b),this.event=new PlayerBulletEvent(this),this.fireYPosition=0}return __extends(b,a),b}(Bullet),PlayerShip=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.create=function(){a.prototype.create.call(this),this.createShip()},b.prototype.createShip=function(){this.ship=Style.getSprite(Style.PLAYER_SHIP),this.ship.interactive=!0,this.addChild(this.ship),this.ship.position=new PIXI.Point(125,this.renderer.getGameSize().y-this.renderer.getGameSize().y/8)},b.prototype.dispose=function(){this.ship.parent&&this.removeChild(this.ship),this.removeEventListeners(),this.dispatch(new PlayerShipEvent(PlayerShipEvent.DEAD))},b.prototype.addEventListeners=function(){var a=this.renderer.getStage();MouseUtil.setInteractive(a,!0),MouseUtil.addMouseMove(a,this.handleMouseMove,this),MouseUtil.addMouseDown(a,this.handleMouseDown,this),this.listen(EnemyBulletEvent.MOVE,this.handleEnemyBulletMove,this)},b.prototype.removeEventListeners=function(){var a=this.renderer.getStage();MouseUtil.removeMouseMove(a,this.handleMouseMove),MouseUtil.removeMouseDown(a,this.handleMouseDown),this.remove(EnemyBulletEvent.MOVE,this)},b.prototype.handleMouseDown=function(){var a=this.ship.position.x+this.ship.width/2,b=this.ship.position.y,c=new PIXI.Point(a,b);new PlayerBullet(c).fire()},b.prototype.handleMouseMove=function(a){var b=a.data;b.global.x<265&&b.global.x>0&&(this.ship.position=new PIXI.Point(b.global.x,this.ship.position.y))},b.prototype.handleEnemyBulletMove=function(a){var b=18,c=18;BoundsUtil.isInBounds(this.ship,a.getBullet().getSprite(),b,c)&&this.dispose()},b.prototype.revive=function(){var a=this.renderer.getStage();MouseUtil.setInteractive(a,!0),MouseUtil.addMouseMove(a,this.handleMouseMove,this),MouseUtil.addMouseDown(a,this.handleMouseDown,this),this.startFlashTimer(),this.addChild(this.ship)},b.prototype.startFlashTimer=function(){var a=new Timer(300,5);a.addEventListener(TimerEvent.TIMER,this.handleFlashTimerUpdate,this),a.addEventListener(TimerEvent.COMPLETE,this.handleFlashTimerComplete,this),a.start()},b.prototype.handleFlashTimerUpdate=function(a){this.ship.visible=!this.ship.visible},b.prototype.handleFlashTimerComplete=function(a){this.ship.visible=!0,this.listen(EnemyBulletEvent.MOVE,this.handleEnemyBulletMove,this)},b}(AbstractView),Shield=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.create=function(){a.prototype.create.call(this),this.createBlocks()},b.prototype.addEventListeners=function(){this.listen(PlayerBulletEvent.MOVE,this.handlePlayerBulletMove,this),this.listen(EnemyBulletEvent.MOVE,this.handleEnemyBulletMove,this)},b.prototype.createBlocks=function(){this.blocks=[];for(var a=0;a<b.STRUCTURE.length;a++)for(var c,d=b.STRUCTURE[a],e=d.x;e<d.y;e++)c=this.createBlock(e,a),this.addChild(c),this.blocks.push(c)},b.prototype.createBlock=function(a,b){var c=Style.getSprite(Style.SHIELD);return c.position=new PIXI.Point(a*c.width,b*c.height),c},b.prototype.handlePlayerBulletMove=function(a){var b=a.getBullet(),c=this.checkBlockBounds(b.getSprite());c&&(c.visible=!1,b.dispose())},b.prototype.handleEnemyBulletMove=function(a){var b=a.getBullet(),c=this.checkBlockBounds(b.getSprite());c&&(c.visible=!1,b.dispose())},b.prototype.checkBlockBounds=function(a){for(var b=6,c=6,d=0;d<this.blocks.length;d++){var e=this.blocks[d];if(e.visible&&BoundsUtil.isInBounds(e,a,b,c))return e}return null},b.STRUCTURE=[new PIXI.Point(0,10),new PIXI.Point(1,9),new PIXI.Point(2,8)],b}(AbstractView),EnemyBulletEvent=function(a){function b(c){a.call(this,b.MOVE),this.bullet=c}return __extends(b,a),b.prototype.getBullet=function(){return this.bullet},b.MOVE="EnemyBulletEvent.MOVE",b}(EventObject),EnemyShipEvent=function(a){function b(){a.call(this,b.DEAD)}return __extends(b,a),b.DEAD="EnemyShipEvent.DEAD",b}(EventObject),GameViewEvent=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.LEVEL="GameViewEvent.LEVEL",b.OVER="GameViewEvent.OVER",b.NEW="GameViewEvent.NEW",b.START="GameViewEvent.START",b}(EventObject),PlayerBulletEvent=function(a){function b(c){a.call(this,b.MOVE),this.bullet=c}return __extends(b,a),b.prototype.getBullet=function(){return this.bullet},b.MOVE="PlayerBulletEvent.MOVE",b}(EventObject),PlayerShipEvent=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.DEAD="PlayerShipEvent.DEAD",b.REVIVE="PlayerShipEvent.REVIVE",b}(EventObject),Font=function(){function a(){}return a.HELVETICA="12px Helvetica",a.GAMEOVER="18px Helvetica",a}(),BoundsUtil=function(){function a(){}return a.isInBounds=function(a,b,c,d){var e=GraphicsUtil.globalPosition(a),f=GraphicsUtil.globalPosition(b),g=new PIXI.Rectangle(e.x,e.y,c,d);return g.contains(f.x,f.y)},a.globalPosition=function(a){return new PIXI.Point(a.worldTransform.tx,a.worldTransform.ty)},a}(),Loader=function(a){function b(b){a.call(this),this.url=b}return __extends(b,a),b.prototype.load=function(){var a=new ConfigRequest(this.url);a.addEventListener(EventType.COMPLETE,this.handleConfigComplete,this),a.load()},b.prototype.handleConfigComplete=function(a){var b=a.currentTarget;this.config=b.getConfig();for(var c,d=b.getConfig().getFiles(),e=d.getValues(),f=[],g=0;g<e.length;g++)c=e[g],f.push(c.url),Style.addPath(c);this.loader=new PIXI.loaders.Loader,this.loader.add(f),this.loader.once("complete",ObjectUtil.delegate(this.handleFilesComplete,this)),this.loader.load()},b.prototype.handleFilesComplete=function(){this.dispatchEvent(new EventObject(EventType.COMPLETE))},b.prototype.getConfig=function(){return this.config},b}(EventDispatcher),ConfigData=function(){function a(a){this.document=a,this.numShields=parseInt($(a).find("NumShields").text()),this.numEnemies=parseInt($(a).find("NumEnemies").text()),this.numLives=parseInt($(a).find("NumLives").text()),this.enemySpeed=parseInt($(a).find("EnemySpeed").text()),this.processFiles()}return a.prototype.processFiles=function(){this.files=new Dictionary;var a=$(this.document).find("Files"),b=a.children();b.each(ObjectUtil.delegate(this.processFile,this))},a.prototype.processFile=function(a,b){var c=b.nodeName,d=b.getAttribute("id"),e=ObjectUtil.reflect(window,c+FilePath.PREFIX,b);this.files.setValue(d,e)},a.prototype.getNumEnemies=function(){return this.numEnemies},a.prototype.getEnemySpeed=function(){return this.enemySpeed},a.prototype.getNumLives=function(){return this.numLives},a.prototype.getNumShields=function(){return this.numShields},a.prototype.getFiles=function(){return this.files},a}(),ConfigRequest=function(a){function b(b){a.call(this),this.url=b}return __extends(b,a),b.prototype.load=function(){$.get(this.url,null,ObjectUtil.delegate(this.handleConfigComplete,this),"xml")},b.prototype.handleConfigComplete=function(a){this.config=new ConfigData(a),this.dispatchEvent(new EventObject(EventType.COMPLETE,this))},b.prototype.getConfig=function(){return this.config},b}(EventDispatcher);